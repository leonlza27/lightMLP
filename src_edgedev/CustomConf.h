/*
兼容MCU处理器环境类型配置
*/
#ifndef _CustomConf_
#define _CustomConf_

#include <stdint.h>
#include <limits.h>

//定点数配置

typedef int16_t f_q8_8;
typedef int32_t f_q16_16;

#define e_BASE_Q16 178145
#define e_BASE_Q8 696

#define Q8_MAX INT16_MAX
#define Q8_MIN INT16_MIN
#define Q16_MAX INT32_MAX
#define Q16_MIN INT32_MIN

#ifdef CPU_PLATFORM_8BIT
typedef f_q8_8 qfix;
#define QSHIFT 8
#define _tmp_larger int32_t
typedef int16_t qf_cur_cast;
#define e_QFBASE e_BASE_Q8
#define QF_FLOAT_MASK 0xFF
#define QF_MAX Q8_MAX
#define QF_MIN Q8_MIN
#define QF_LUT_LEN 128
#define QF_EXP_LUT exp_lut_q8
#else
typedef f_q16_16 qfix;
#define QSHIFT 16
#define _tmp_larger int64_t
typedef int32_t qf_cur_cast;
#define e_QFBASE e_BASE_Q16
#define QF_FLOAT_MASK 0xFFFF
#define QF_MAX Q16_MAX
#define QF_MIN Q16_MIN
#define QF_LUT_LEN 256
#define QF_EXP_LUT exp_lut_q16
#endif

// exp函数LUT表(调整区间为[-8,8]，q8.8为128点，q16.16为256点)
#ifdef CPU_PLATFORM_8BIT
static const f_q8_8 exp_lut_q8[128] = {
0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,
0,0,0,0,1,1,1,1,
1,2,2,2,2,3,3,4,
4,5,6,7,8,9,10,11,
13,15,17,19,21,24,28,32,
36,41,46,53,60,68,77,87,
99,112,128,145,164,186,211,240,
272,309,350,397,451,511,580,658,
746,847,961,1090,1236,1402,1590,1804,
2046,2321,2633,2986,3387,3842,4358,4943,
5607,6359,7213,8182,9281,10527,11940,13543,
15362,17424,19764,22417,25427,28841,32714,32767,
32767,32767,32767,32767,32767,32767,32767,32767,
32767,32767,32767,32767,32767,32767,32767,32767,
32767,32767,32767,32767,32767,32767,32767,32767
};
#else
static const f_q16_16 exp_lut_q16[256] = {
21,23,24,26,28,30,32,34,
36,38,41,43,46,49,52,56,
59,63,68,72,77,82,87,93,
99,105,112,119,127,135,144,153,
163,174,185,197,210,224,238,254,
270,287,306,326,347,370,394,419,
446,475,506,539,574,611,651,693,
738,785,836,890,948,1010,1075,1145,
1219,1298,1382,1471,1567,1668,1776,1891,
2014,2144,2283,2431,2588,2756,2935,3125,
3327,3542,3772,4016,4276,4553,4848,5162,
5496,5852,6231,6635,7064,7522,8009,8528,
9080,9668,10294,10961,11671,12426,13231,14088,
15000,15971,17006,18107,19280,20528,21857,23273,
24780,26385,28093,29912,31849,33912,36108,38446,
40936,43586,46409,49414,52614,56021,59649,63511,
67624,72003,76666,81630,86916,92545,98538,104918,
111712,118947,126649,134850,143583,152880,162780,173321,
184545,196495,209219,222767,237192,252552,268906,286319,
304860,324601,345621,368002,391832,417205,444222,472988,
503616,536228,570952,607924,647290,689206,733836,781356,
831953,885826,943188,1004265,1069296,1138539,1212266,1290766,
1374350,1463347,1558107,1659003,1766432,1880818,2002611,2132291,
2270368,2417387,2573926,2740602,2918070,3107031,3308228,3522454,
3750552,3993420,4252016,4527357,4820528,5132683,5465052,5818944,
6195752,6596960,7024149,7479001,7963306,8478973,9028033,9612646,
10235117,10897896,11603594,12354989,13155042,14006902,14913924,15879681,
16907976,18002859,19168641,20409914,21731566,23138803,24637165,26232554,
27931254,29739953,31665776,33716306,35899619,38224313,40699543,43335058,
46141237,49129131,52310508,55697895,59304635,63144930,67233905,71587663,
76223351,81159224,86414722,92010541,97968720,104312724,111067535,118259758,
125917715,134071567,142753424,151997479,161840136,172320158,183478818,195360062
};
#endif

#endif